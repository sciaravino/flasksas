
<!doctype html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="sophia.rowland@sas.com">
	<link rel="icon" href="{{url_for('static', filename="css/favicon.ico")}}">

	<title>Probability of Loan Default</title>
	<link type="text/css" href="{{url_for('static', filename="css/bootstrap.min.css")}}?ver=4.1.1" rel="stylesheet">
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-md navbar-dark bg-dark">
			<a class="navbar-brand" href="#"><img src="{{url_for('static', filename="img/sas_logo.png")}}" /></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarCollapse">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active">
						<a class="nav-link" href="#">Deploying & Building AI Applications for the Financial Services Industry<span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link disabled" ></a>
					</li>
				</ul>
			</div>
			<div class="text-right" style="color:#fff;">
				Probability of Loan Default<br/>
			</div>
		</nav>
	</header>

	<main role="main" class="container">
		<script type="text/javascript" language="javascript">
			function postTest() {
				console.log("Got in function")
				document.getElementById('messageframe').onload = function() {
					console.log("iframe Function")
					var response = document.getElementById('messageframe').contentDocument;
					var txt = document.getElementById('messages');
					var previousinfo = txt.innerHTML
					txt.innerHTML = '<li class="received"><span>' + response.body.innerHTML + '</span></li>';
					txt.innerHTML += previousinfo;
				};
			}
		</script>
		<div id="accordion">
			<div class="row pt-2">
				<div class="col">
					<div class="card">
						<h5 class="card-header">
						</h5>
						<div class="card-body show" id="collapse_0" data-parent="#accordion">
							<h1 class="card-title text-info">Probability of Loan Default</h1>
							This application utilizes SAS Viya and CAS to make predictions on a customer's probability of defaulting on a loan<br/>
							<form method="POST" target="iframemessage" action="/score" >
								<table>
									<td>
										<fieldset>
											<legend><b>Customer Information</b>:</legend>
											How many months has this individual been a customer?<br>
											<input type="number" name="MonthsCustomer" value="0" min="0" max="1200" step="1" required>
											<br>
											How many lines of credit does this customer have?<br>
											<input type="number" name="NoLinesCredit" value="0" min="0" max="50" step="1" required>
											<br>
											What is this customer's debt to income ratio?<br>
											<input type="number" name="DebtToIncomeRatio" value="0" min="0" max="100" step=".01" required>
											<br>
											How many delinquent lines of credit does this customer have?<br>
											<input type="number" name="NoDelinquentLinesCredit" value="0" min="0" max="50" step="1" required>
											<br>
											How many degogatory reports does the customer have?<br>
											<input type="number" name="NoDerogatoryReports" value="0" min="0" max="50" step="1" required>
											<br>
											How much is due on their mortgage?<br>
											<input type="number" name="MortgageDue" value="0" min="0" max="10000000000" step=".01" required>
											<br>
											How much of a loan is needed?<br>
											<input type="number" name="LoanSize" value="0" min="0" max="10000000000" step=".01" required>
											<br>
											How many recent lines of credit does this customer have?<br>
											<input type="number" name="NoRecentLinesCredit" value="0" min="0" max="50" step="1" required>
											<br>
											What is the value of their home?<br>
											<input type="number" name="HomeValue" value="0" min="0" max="10000000000" step=".01" required>
											<br>
											How many years have they been at their current job?<br>
											<input type="number" name="YearsatJob" value="0" min="0" max="60" step=".01" required>
											<br>
											Why does the customer need the loan?<br>
											<input type="radio" name="Reason" value="DebtCon" checked> Debt Consolidation <br>
											<input type="radio" name="Reason" value="HomeImp"> Home Improvements <br>
											<br>
											What is the customer's current job?<br>
											<input type="radio" name="Job" value="Office" checked> Office Worker <br>
											<input type="radio" name="Job" value="Self"> Self-Employeed <br>
											<input type="radio" name="Job" value="Mgr"> Manager <br>
											<input type="radio" name="Job" value="ProfExe"> Executive <br>
											<input type="radio" name="Job" value="Other"> Other <br>
											<br>
										</fieldset>
									</td>
								</table><br/>
								<input type="submit" value="Make Prediction Now!" onclick="postTest()">
							</form>
							<div>
								<ol reversed id="messages"></ol>
							</div>
							<form>
							</form>
							<div>
								<iframe name="iframemessage" id="messageframe" style="width:0;height:0;border:0; border:none;">
								</iframe>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer class="footer">
		<div class="container">
			<span class="text-muted"></span>
		</div>
	</footer>

	<script src="{{url_for('static', filename="/js/jquery.min.js")}}?ver=3.3.1"></script>
	<script src="{{url_for('static', filename="/js/jquery.cookie.min.js")}}"></script>
	<script src="{{url_for('static', filename="/js/angular.min.js")}}?ver=1.6.5"></script>
	<script src="{{url_for('static', filename="/js/bootstrap.min.js")}}?ver=4.1.1"></script>
</body>
</html>
